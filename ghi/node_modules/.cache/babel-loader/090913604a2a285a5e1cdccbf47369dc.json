{"ast":null,"code":"var _jsxFileName = \"/app/src/searchPage.js\",\n    _s = $RefreshSig$();\n\nimport { useState, useEffect } from \"react\";\nimport { useGetRecipesQuery } from \"./app/apiSlice\";\nimport { useDispatch } from \"react-redux\";\nimport { reset } from \"./app/searchSlice\";\nimport { Link, useNavigate } from \"react-router-dom\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nfunction SearchPage() {\n  _s();\n\n  const [search, setSearch] = useState(\"\");\n  const {\n    data,\n    isLoading\n  } = useGetRecipesQuery();\n  const dispatch = useDispatch();\n  const [filteredList, setFilteredList] = useState([]);\n  const navigate = useNavigate();\n\n  const handleSubmit = e => {\n    e.preventDefault();\n    const filteredRecipes = data.filter(recipe => recipe.name.toLowerCase().includes(search.toLowerCase()));\n    setFilteredList(filteredRecipes);\n  };\n\n  const handleSurpriseSubmit = () => {\n    const recipeListLength = data.length;\n    let value = Math.random() * recipeListLength;\n    const indexValue = Math.floor(value);\n    const filteredRecipesID = data[indexValue].id;\n    navigate(`/recipe/${filteredRecipesID}`);\n  };\n\n  useEffect(() => {\n    setFilteredList(data);\n  }, [data]);\n\n  if (isLoading) {\n    return /*#__PURE__*/_jsxDEV(\"p\", {\n      children: \"Loading...\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 35,\n      columnNumber: 16\n    }, this);\n  }\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(\"form\", {\n      className: \"row\",\n      onSubmit: handleSubmit,\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"col\",\n        children: /*#__PURE__*/_jsxDEV(\"input\", {\n          className: \"form-control form-control-lg\",\n          type: \"text\",\n          value: search,\n          onChange: e => setSearch(e.target.value)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 41,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 40,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"col\",\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"btn btn-lg btn-success\",\n          type: \"submit\",\n          children: \"Search\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 49,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"btn btn-lg btn-link\",\n          type: \"button\",\n          onClick: () => {\n            dispatch(reset());\n            setSearch(\"\");\n            setFilteredList(data);\n          },\n          children: \"Reset\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 52,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => handleSurpriseSubmit(),\n          children: \"Surprise me!\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 63,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 48,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 39,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"mt-3\",\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        children: [\"Recipe List\", \" \", /*#__PURE__*/_jsxDEV(\"small\", {\n          className: \"text-body-secondary\",\n          children: search\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 71,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"row mt-3\",\n        children: filteredList && filteredList.length > 0 ? filteredList.map(recipe => /*#__PURE__*/_jsxDEV(\"div\", {\n          children: /*#__PURE__*/_jsxDEV(Link, {\n            to: `/recipe/${recipe.id}`,\n            children: recipe.name\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 77,\n            columnNumber: 33\n          }, this)\n        }, recipe.id, false, {\n          fileName: _jsxFileName,\n          lineNumber: 76,\n          columnNumber: 29\n        }, this)) : /*#__PURE__*/_jsxDEV(\"p\", {\n          children: \"No recipes found.\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 83,\n          columnNumber: 25\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 73,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true);\n}\n\n_s(SearchPage, \"RqschF+ydNU+YwsVB8DbA7ub3Fg=\", false, function () {\n  return [useGetRecipesQuery, useDispatch, useNavigate];\n});\n\n_c = SearchPage;\nexport default SearchPage;\n\nvar _c;\n\n$RefreshReg$(_c, \"SearchPage\");","map":{"version":3,"names":["useState","useEffect","useGetRecipesQuery","useDispatch","reset","Link","useNavigate","SearchPage","search","setSearch","data","isLoading","dispatch","filteredList","setFilteredList","navigate","handleSubmit","e","preventDefault","filteredRecipes","filter","recipe","name","toLowerCase","includes","handleSurpriseSubmit","recipeListLength","length","value","Math","random","indexValue","floor","filteredRecipesID","id","target","map"],"sources":["/app/src/searchPage.js"],"sourcesContent":["import { useState, useEffect } from \"react\";\nimport { useGetRecipesQuery } from \"./app/apiSlice\";\nimport { useDispatch } from \"react-redux\";\nimport { reset } from \"./app/searchSlice\";\nimport { Link, useNavigate } from \"react-router-dom\";\n\nfunction SearchPage() {\n    const [search, setSearch] = useState(\"\");\n    const { data, isLoading } = useGetRecipesQuery();\n    const dispatch = useDispatch();\n    const [filteredList, setFilteredList] = useState([]);\n    const navigate = useNavigate();\n\n    const handleSubmit = (e) => {\n        e.preventDefault();\n        const filteredRecipes = data.filter((recipe) =>\n            recipe.name.toLowerCase().includes(search.toLowerCase())\n        );\n        setFilteredList(filteredRecipes);\n    };\n\n    const handleSurpriseSubmit = () => {\n        const recipeListLength = data.length;\n        let value = Math.random() * recipeListLength;\n        const indexValue = Math.floor(value);\n        const filteredRecipesID = data[indexValue].id;\n        navigate(`/recipe/${filteredRecipesID}`);\n    };\n\n    useEffect(() => {\n        setFilteredList(data);\n    }, [data]);\n\n    if (isLoading) {\n        return <p>Loading...</p>;\n    }\n    return (\n        <>\n            <form className=\"row\" onSubmit={handleSubmit}>\n                <div className=\"col\">\n                    <input\n                        className=\"form-control form-control-lg\"\n                        type=\"text\"\n                        value={search}\n                        onChange={(e) => setSearch(e.target.value)}\n                    />\n                </div>\n                <div className=\"col\">\n                    <button className=\"btn btn-lg btn-success\" type=\"submit\">\n                        Search\n                    </button>\n                    <button\n                        className=\"btn btn-lg btn-link\"\n                        type=\"button\"\n                        onClick={() => {\n                            dispatch(reset());\n                            setSearch(\"\");\n                            setFilteredList(data);\n                        }}\n                    >\n                        Reset\n                    </button>\n                    <button onClick={() => handleSurpriseSubmit()}>\n                        Surprise me!\n                    </button>\n                </div>\n            </form>\n            <div className=\"mt-3\">\n                <h1>\n                    Recipe List{\" \"}\n                    <small className=\"text-body-secondary\">{search}</small>\n                </h1>\n                <div className=\"row mt-3\">\n                    {filteredList && filteredList.length > 0 ? (\n                        filteredList.map((recipe) => (\n                            <div key={recipe.id}>\n                                <Link to={`/recipe/${recipe.id}`}>\n                                    {recipe.name}\n                                </Link>\n                            </div>\n                        ))\n                    ) : (\n                        <p>No recipes found.</p>\n                    )}\n                </div>\n            </div>\n        </>\n    );\n}\n\nexport default SearchPage;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}