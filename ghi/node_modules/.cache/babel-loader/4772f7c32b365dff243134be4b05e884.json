{"ast":null,"code":"var _jsxFileName = \"/app/src/FavoritesButton.js\",\n    _s = $RefreshSig$();\n\nimport { useEffect, useState } from \"react\";\nimport { useParams } from \"react-router-dom\";\nimport { useGetFavoritesQuery, useGetRecipeByIdQuery, useFavoritesMutation, useDeleteFavoritesMutation } from \"./app/apiSlice\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nconst FavoritesButton = () => {\n  _s();\n\n  const [favorite, setFavorite] = useState(null);\n  const {\n    data: favorites\n  } = useGetFavoritesQuery();\n  const [addFavorite] = useFavoritesMutation();\n  const [deleteFavorite] = useDeleteFavoritesMutation();\n  const {\n    recipeId\n  } = useParams();\n  const {\n    data: recipe\n  } = useGetRecipeByIdQuery(recipeId);\n  useEffect(() => {\n    if (favorites) {\n      setFavorite(favorites.find(favorite => favorite.recipe_id === +recipeId) || null);\n    }\n  }, [favorites, recipeId]);\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [!favorite && /*#__PURE__*/_jsxDEV(\"button\", {\n      className: \"btn btn-success\",\n      onClick: () => addFavorite({\n        recipe_id: recipeId,\n        name: recipe.name,\n        thumbnail_url: recipe.thumbnail_url\n      }),\n      children: \"Add to Favorites\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 28,\n      columnNumber: 9\n    }, this), favorite && /*#__PURE__*/_jsxDEV(\"button\", {\n      className: \"btn btn-danger\",\n      onClick: () => deleteFavorite(favorite.id),\n      children: \"Remove from Favorites\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true);\n};\n\n_s(FavoritesButton, \"DzKM6VZLoz+V7AN5fzSPefeg+/w=\", false, function () {\n  return [useGetFavoritesQuery, useFavoritesMutation, useDeleteFavoritesMutation, useParams, useGetRecipeByIdQuery];\n});\n\n_c = FavoritesButton;\nexport default FavoritesButton;\n\nvar _c;\n\n$RefreshReg$(_c, \"FavoritesButton\");","map":{"version":3,"names":["useEffect","useState","useParams","useGetFavoritesQuery","useGetRecipeByIdQuery","useFavoritesMutation","useDeleteFavoritesMutation","FavoritesButton","favorite","setFavorite","data","favorites","addFavorite","deleteFavorite","recipeId","recipe","find","recipe_id","name","thumbnail_url","id"],"sources":["/app/src/FavoritesButton.js"],"sourcesContent":["import { useEffect, useState } from \"react\";\nimport { useParams } from \"react-router-dom\";\nimport {\n  useGetFavoritesQuery,\n  useGetRecipeByIdQuery,\n  useFavoritesMutation,\n  useDeleteFavoritesMutation,\n} from \"./app/apiSlice\";\n\nconst FavoritesButton = () => {\n  const [favorite, setFavorite] = useState(null);\n  const { data: favorites } = useGetFavoritesQuery();\n  const [addFavorite] = useFavoritesMutation();\n  const [deleteFavorite] = useDeleteFavoritesMutation();\n  const { recipeId } = useParams();\n  const { data: recipe } = useGetRecipeByIdQuery(recipeId);\n\n  useEffect(() => {\n    if (favorites) {\n      setFavorite(\n        favorites.find((favorite) => favorite.recipe_id === +recipeId) || null\n      );\n    }\n  }, [favorites, recipeId]);\n  return (\n    <>\n      {!favorite && (\n        <button\n          className=\"btn btn-success\"\n          onClick={() =>\n            addFavorite({\n              recipe_id: recipeId,\n              name: recipe.name,\n              thumbnail_url: recipe.thumbnail_url,\n            })\n          }\n        >\n          Add to Favorites\n        </button>\n      )}\n      {favorite && (\n        <button\n          className=\"btn btn-danger\"\n          onClick={() => deleteFavorite(favorite.id)}\n        >\n          Remove from Favorites\n        </button>\n      )}\n    </>\n  );\n};\n\nexport default FavoritesButton;\n"],"mappings":";;;AAAA,SAASA,SAAT,EAAoBC,QAApB,QAAoC,OAApC;AACA,SAASC,SAAT,QAA0B,kBAA1B;AACA,SACEC,oBADF,EAEEC,qBAFF,EAGEC,oBAHF,EAIEC,0BAJF,QAKO,gBALP;;;;AAOA,MAAMC,eAAe,GAAG,MAAM;EAAA;;EAC5B,MAAM,CAACC,QAAD,EAAWC,WAAX,IAA0BR,QAAQ,CAAC,IAAD,CAAxC;EACA,MAAM;IAAES,IAAI,EAAEC;EAAR,IAAsBR,oBAAoB,EAAhD;EACA,MAAM,CAACS,WAAD,IAAgBP,oBAAoB,EAA1C;EACA,MAAM,CAACQ,cAAD,IAAmBP,0BAA0B,EAAnD;EACA,MAAM;IAAEQ;EAAF,IAAeZ,SAAS,EAA9B;EACA,MAAM;IAAEQ,IAAI,EAAEK;EAAR,IAAmBX,qBAAqB,CAACU,QAAD,CAA9C;EAEAd,SAAS,CAAC,MAAM;IACd,IAAIW,SAAJ,EAAe;MACbF,WAAW,CACTE,SAAS,CAACK,IAAV,CAAgBR,QAAD,IAAcA,QAAQ,CAACS,SAAT,KAAuB,CAACH,QAArD,KAAkE,IADzD,CAAX;IAGD;EACF,CANQ,EAMN,CAACH,SAAD,EAAYG,QAAZ,CANM,CAAT;EAOA,oBACE;IAAA,WACG,CAACN,QAAD,iBACC;MACE,SAAS,EAAC,iBADZ;MAEE,OAAO,EAAE,MACPI,WAAW,CAAC;QACVK,SAAS,EAAEH,QADD;QAEVI,IAAI,EAAEH,MAAM,CAACG,IAFH;QAGVC,aAAa,EAAEJ,MAAM,CAACI;MAHZ,CAAD,CAHf;MAAA;IAAA;MAAA;MAAA;MAAA;IAAA,QAFJ,EAeGX,QAAQ,iBACP;MACE,SAAS,EAAC,gBADZ;MAEE,OAAO,EAAE,MAAMK,cAAc,CAACL,QAAQ,CAACY,EAAV,CAF/B;MAAA;IAAA;MAAA;MAAA;MAAA;IAAA,QAhBJ;EAAA,gBADF;AA0BD,CAzCD;;GAAMb,e;UAEwBJ,oB,EACNE,oB,EACGC,0B,EACJJ,S,EACIE,qB;;;KANrBG,e;AA2CN,eAAeA,eAAf"},"metadata":{},"sourceType":"module"}