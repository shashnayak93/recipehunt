{"ast":null,"code":"var _jsxFileName = \"/app/src/FavoritesButton.js\",\n    _s = $RefreshSig$();\n\nimport { useGetFavoritesQuery, useGetRecipeByIdQuery } from \"./app/recipeSlice\";\nimport { useEffect, useState } from \"react\";\nimport { useFavoritesMutation } from \"./app/recipeSlice\";\nimport { useDeleteFavoritesMutation } from \"./app/recipeSlice\";\nimport { useParams } from \"react-router-dom\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nconst FavoritesButton = () => {\n  _s();\n\n  const [favorite, setFavorite] = useState(null);\n  const {\n    data: favorites\n  } = useGetFavoritesQuery();\n  const [addFavorite] = useFavoritesMutation();\n  const [deleteFavorite] = useDeleteFavoritesMutation();\n  const {\n    recipeId\n  } = useParams();\n  const {\n    data: recipe\n  } = useGetRecipeByIdQuery(recipeId);\n  console.log(favorites);\n  useEffect(() => {\n    if (favorites) {\n      setFavorite(favorites.find(favorite => favorite.recipe_id === +recipeId) || null);\n    }\n  }, [favorites]);\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [!favorite && /*#__PURE__*/_jsxDEV(\"button\", {\n      className: \"btn btn-success\",\n      onClick: () => addFavorite({\n        recipe_id: recipeId,\n        name: recipe.name,\n        thumbnail_url: recipe.thumbnail_url\n      }),\n      children: \"Add to Favorites\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 26,\n      columnNumber: 9\n    }, this), favorite && /*#__PURE__*/_jsxDEV(\"button\", {\n      className: \"btn btn-danger\",\n      onClick: () => deleteFavorite(favorite.id),\n      children: \"Remove from Favorites\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 40,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true);\n};\n\n_s(FavoritesButton, \"DzKM6VZLoz+V7AN5fzSPefeg+/w=\", false, function () {\n  return [useGetFavoritesQuery, useFavoritesMutation, useDeleteFavoritesMutation, useParams, useGetRecipeByIdQuery];\n});\n\n_c = FavoritesButton;\nexport default FavoritesButton;\n\nvar _c;\n\n$RefreshReg$(_c, \"FavoritesButton\");","map":{"version":3,"names":["useGetFavoritesQuery","useGetRecipeByIdQuery","useEffect","useState","useFavoritesMutation","useDeleteFavoritesMutation","useParams","FavoritesButton","favorite","setFavorite","data","favorites","addFavorite","deleteFavorite","recipeId","recipe","console","log","find","recipe_id","name","thumbnail_url","id"],"sources":["/app/src/FavoritesButton.js"],"sourcesContent":["import { useGetFavoritesQuery, useGetRecipeByIdQuery } from \"./app/recipeSlice\";\nimport { useEffect, useState } from \"react\";\nimport { useFavoritesMutation } from \"./app/recipeSlice\";\nimport { useDeleteFavoritesMutation } from \"./app/recipeSlice\";\nimport { useParams } from \"react-router-dom\";\n\nconst FavoritesButton = () => {\n  const [favorite, setFavorite] = useState(null);\n  const { data: favorites } = useGetFavoritesQuery();\n  const [addFavorite] = useFavoritesMutation();\n  const [deleteFavorite] = useDeleteFavoritesMutation();\n  const { recipeId } = useParams();\n  const { data: recipe } = useGetRecipeByIdQuery(recipeId);\n  console.log(favorites);\n\n  useEffect(() => {\n    if (favorites) {\n      setFavorite(\n        favorites.find((favorite) => favorite.recipe_id === +recipeId) || null\n      );\n    }\n  }, [favorites]);\n  return (\n    <>\n      {!favorite && (\n        <button\n          className=\"btn btn-success\"\n          onClick={() =>\n            addFavorite({\n              recipe_id: recipeId,\n              name: recipe.name,\n              thumbnail_url: recipe.thumbnail_url,\n            })\n          }\n        >\n          Add to Favorites\n        </button>\n      )}\n      {favorite && (\n        <button\n          className=\"btn btn-danger\"\n          onClick={() => deleteFavorite(favorite.id)}\n        >\n          Remove from Favorites\n        </button>\n      )}\n    </>\n  );\n};\n\nexport default FavoritesButton;\n"],"mappings":";;;AAAA,SAASA,oBAAT,EAA+BC,qBAA/B,QAA4D,mBAA5D;AACA,SAASC,SAAT,EAAoBC,QAApB,QAAoC,OAApC;AACA,SAASC,oBAAT,QAAqC,mBAArC;AACA,SAASC,0BAAT,QAA2C,mBAA3C;AACA,SAASC,SAAT,QAA0B,kBAA1B;;;;AAEA,MAAMC,eAAe,GAAG,MAAM;EAAA;;EAC5B,MAAM,CAACC,QAAD,EAAWC,WAAX,IAA0BN,QAAQ,CAAC,IAAD,CAAxC;EACA,MAAM;IAAEO,IAAI,EAAEC;EAAR,IAAsBX,oBAAoB,EAAhD;EACA,MAAM,CAACY,WAAD,IAAgBR,oBAAoB,EAA1C;EACA,MAAM,CAACS,cAAD,IAAmBR,0BAA0B,EAAnD;EACA,MAAM;IAAES;EAAF,IAAeR,SAAS,EAA9B;EACA,MAAM;IAAEI,IAAI,EAAEK;EAAR,IAAmBd,qBAAqB,CAACa,QAAD,CAA9C;EACAE,OAAO,CAACC,GAAR,CAAYN,SAAZ;EAEAT,SAAS,CAAC,MAAM;IACd,IAAIS,SAAJ,EAAe;MACbF,WAAW,CACTE,SAAS,CAACO,IAAV,CAAgBV,QAAD,IAAcA,QAAQ,CAACW,SAAT,KAAuB,CAACL,QAArD,KAAkE,IADzD,CAAX;IAGD;EACF,CANQ,EAMN,CAACH,SAAD,CANM,CAAT;EAOA,oBACE;IAAA,WACG,CAACH,QAAD,iBACC;MACE,SAAS,EAAC,iBADZ;MAEE,OAAO,EAAE,MACPI,WAAW,CAAC;QACVO,SAAS,EAAEL,QADD;QAEVM,IAAI,EAAEL,MAAM,CAACK,IAFH;QAGVC,aAAa,EAAEN,MAAM,CAACM;MAHZ,CAAD,CAHf;MAAA;IAAA;MAAA;MAAA;MAAA;IAAA,QAFJ,EAeGb,QAAQ,iBACP;MACE,SAAS,EAAC,gBADZ;MAEE,OAAO,EAAE,MAAMK,cAAc,CAACL,QAAQ,CAACc,EAAV,CAF/B;MAAA;IAAA;MAAA;MAAA;MAAA;IAAA,QAhBJ;EAAA,gBADF;AA0BD,CA1CD;;GAAMf,e;UAEwBP,oB,EACNI,oB,EACGC,0B,EACJC,S,EACIL,qB;;;KANrBM,e;AA4CN,eAAeA,eAAf"},"metadata":{},"sourceType":"module"}