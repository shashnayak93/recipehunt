{"ast":null,"code":"var _jsxFileName = \"/app/src/searchPage.js\",\n    _s = $RefreshSig$();\n\nimport { useState, useEffect } from \"react\";\nimport { useGetRecipesQuery } from \"./app/apiSlice\";\nimport { useDispatch } from \"react-redux\";\nimport { reset } from \"./app/searchSlice\";\nimport { Link, useNavigate } from \"react-router-dom\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nfunction SearchPage() {\n  _s();\n\n  const [search, setSearch] = useState(\"\");\n  const {\n    data,\n    isLoading\n  } = useGetRecipesQuery();\n  const dispatch = useDispatch();\n  const [filteredList, setFilteredList] = useState([]);\n  const [sort, setSort] = useState(\"\");\n  const navigate = useNavigate();\n\n  const handleSubmit = e => {\n    e.preventDefault();\n\n    if (search) {\n      const filteredRecipes = data.filter(recipe => recipe.name.toLowerCase().includes(search.toLowerCase()));\n      setFilteredList(filteredRecipes);\n    }\n\n    if (sort === \"alphabetical\") {\n      data.sort((a, b) => a.name.toLowerCase().localCompare(b.name.toLowerCase()));\n      setFilteredList(data);\n      console.log(data);\n    }\n  };\n\n  const handleSurpriseSubmit = () => {\n    const recipeListLength = data.length;\n    let value = Math.random() * recipeListLength;\n    const indexValue = Math.floor(value);\n    const filteredRecipesID = data[indexValue].id;\n    navigate(`/recipe/${filteredRecipesID}`);\n  };\n\n  const handleSortChange = e => {\n    setSort(e.target.value);\n  };\n\n  useEffect(() => {\n    setFilteredList(data);\n  }, [data]);\n\n  if (isLoading) {\n    return /*#__PURE__*/_jsxDEV(\"p\", {\n      children: \"Loading...\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 12\n    }, this);\n  }\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(\"form\", {\n      className: \"row\",\n      onSubmit: handleSubmit,\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"col\",\n        children: /*#__PURE__*/_jsxDEV(\"input\", {\n          className: \"form-control form-control-lg\",\n          type: \"text\",\n          value: search,\n          onChange: e => setSearch(e.target.value)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 55,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 54,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"col\",\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"btn btn-lg btn-success\",\n          type: \"submit\",\n          children: \"Search\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 63,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"btn btn-lg btn-link\",\n          type: \"button\",\n          onClick: () => {\n            dispatch(reset());\n            setSearch(\"\");\n            setFilteredList(data);\n          },\n          children: \"Reset\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 66,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => handleSurpriseSubmit(),\n          children: \"Surprise me!\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 77,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 62,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: /*#__PURE__*/_jsxDEV(\"select\", {\n          className: \"form-select\",\n          onChange: handleSortChange,\n          id: \"sortSelect\",\n          value: sort,\n          children: [/*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"\",\n            children: \"Sort by...\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 86,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"alphabetical\",\n            children: \"Alphabetical\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 87,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"ingredients\",\n            children: \"Ingredients\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 88,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 80,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 79,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"mt-3\",\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        children: [\"Recipe List \", /*#__PURE__*/_jsxDEV(\"small\", {\n          className: \"text-body-secondary\",\n          children: search\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 94,\n          columnNumber: 23\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 93,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"row mt-3\",\n        children: filteredList && filteredList.length > 0 ? filteredList.map(recipe => /*#__PURE__*/_jsxDEV(\"div\", {\n          children: /*#__PURE__*/_jsxDEV(Link, {\n            to: `/recipe/${recipe.id}`,\n            children: recipe.name\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 100,\n            columnNumber: 17\n          }, this)\n        }, recipe.id, false, {\n          fileName: _jsxFileName,\n          lineNumber: 99,\n          columnNumber: 15\n        }, this)) : /*#__PURE__*/_jsxDEV(\"p\", {\n          children: \"No recipes found.\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 104,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 96,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 92,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true);\n}\n\n_s(SearchPage, \"2Xo7mpEim+crDeqe9MFc3OMfjkM=\", false, function () {\n  return [useGetRecipesQuery, useDispatch, useNavigate];\n});\n\n_c = SearchPage;\nexport default SearchPage;\n\nvar _c;\n\n$RefreshReg$(_c, \"SearchPage\");","map":{"version":3,"names":["useState","useEffect","useGetRecipesQuery","useDispatch","reset","Link","useNavigate","SearchPage","search","setSearch","data","isLoading","dispatch","filteredList","setFilteredList","sort","setSort","navigate","handleSubmit","e","preventDefault","filteredRecipes","filter","recipe","name","toLowerCase","includes","a","b","localCompare","console","log","handleSurpriseSubmit","recipeListLength","length","value","Math","random","indexValue","floor","filteredRecipesID","id","handleSortChange","target","map"],"sources":["/app/src/searchPage.js"],"sourcesContent":["import { useState, useEffect } from \"react\";\nimport { useGetRecipesQuery } from \"./app/apiSlice\";\nimport { useDispatch } from \"react-redux\";\nimport { reset } from \"./app/searchSlice\";\nimport { Link, useNavigate } from \"react-router-dom\";\n\nfunction SearchPage() {\n  const [search, setSearch] = useState(\"\");\n  const { data, isLoading } = useGetRecipesQuery();\n  const dispatch = useDispatch();\n  const [filteredList, setFilteredList] = useState([]);\n  const [sort, setSort] = useState(\"\");\n  const navigate = useNavigate();\n\n  const handleSubmit = (e) => {\n    e.preventDefault();\n    if (search) {\n      const filteredRecipes = data.filter((recipe) =>\n        recipe.name.toLowerCase().includes(search.toLowerCase())\n      );\n      setFilteredList(filteredRecipes);\n    }\n    if (sort === \"alphabetical\") {\n      data.sort((a, b) =>\n        a.name.toLowerCase().localCompare(b.name.toLowerCase())\n      );\n      setFilteredList(data);\n      console.log(data);\n    }\n  };\n\n  const handleSurpriseSubmit = () => {\n    const recipeListLength = data.length;\n    let value = Math.random() * recipeListLength;\n    const indexValue = Math.floor(value);\n    const filteredRecipesID = data[indexValue].id;\n    navigate(`/recipe/${filteredRecipesID}`);\n  };\n\n  const handleSortChange = (e) => {\n    setSort(e.target.value);\n  };\n\n  useEffect(() => {\n    setFilteredList(data);\n  }, [data]);\n\n  if (isLoading) {\n    return <p>Loading...</p>;\n  }\n  return (\n    <>\n      <form className=\"row\" onSubmit={handleSubmit}>\n        <div className=\"col\">\n          <input\n            className=\"form-control form-control-lg\"\n            type=\"text\"\n            value={search}\n            onChange={(e) => setSearch(e.target.value)}\n          />\n        </div>\n        <div className=\"col\">\n          <button className=\"btn btn-lg btn-success\" type=\"submit\">\n            Search\n          </button>\n          <button\n            className=\"btn btn-lg btn-link\"\n            type=\"button\"\n            onClick={() => {\n              dispatch(reset());\n              setSearch(\"\");\n              setFilteredList(data);\n            }}\n          >\n            Reset\n          </button>\n          <button onClick={() => handleSurpriseSubmit()}>Surprise me!</button>\n        </div>\n        <div>\n          <select\n            className=\"form-select\"\n            onChange={handleSortChange}\n            id=\"sortSelect\"\n            value={sort}\n          >\n            <option value=\"\">Sort by...</option>\n            <option value=\"alphabetical\">Alphabetical</option>\n            <option value=\"ingredients\">Ingredients</option>\n          </select>\n        </div>\n      </form>\n      <div className=\"mt-3\">\n        <h1>\n          Recipe List <small className=\"text-body-secondary\">{search}</small>\n        </h1>\n        <div className=\"row mt-3\">\n          {filteredList && filteredList.length > 0 ? (\n            filteredList.map((recipe) => (\n              <div key={recipe.id}>\n                <Link to={`/recipe/${recipe.id}`}>{recipe.name}</Link>\n              </div>\n            ))\n          ) : (\n            <p>No recipes found.</p>\n          )}\n        </div>\n      </div>\n    </>\n  );\n}\n\nexport default SearchPage;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}