{"ast":null,"code":"var _jsxFileName = \"/app/src/searchPage.js\",\n    _s = $RefreshSig$();\n\nimport { useState } from \"react\";\nimport { useGetRecipesQuery } from \"./app/recipeSlice\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { reset, filter } from \"./app/searchSlice\";\nimport { Link } from \"react-router-dom\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nfunction SearchPage() {\n  _s();\n\n  const [search, setSearch] = useState('');\n  const searchCriteria = useSelector(state => state.search.value);\n  const {\n    data,\n    isLoading\n  } = useGetRecipesQuery();\n  const dispatch = useDispatch();\n\n  const handleSubmit = e => {\n    e.preventDefault();\n    console.log('handleSubmit', search);\n    dispatch(filter(search));\n  };\n\n  const filteredRecipes = () => {\n    if (searchCriteria) {\n      return data.filter(recipe => recipe.name.toLowerCase().includes(searchCriteria));\n    } else {\n      return data;\n    }\n  };\n\n  if (isLoading) {\n    return /*#__PURE__*/_jsxDEV(\"p\", {\n      children: \"Loading...\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 28,\n      columnNumber: 12\n    }, this);\n  }\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(\"form\", {\n      className: \"row\",\n      onSubmit: handleSubmit,\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"col\",\n        children: /*#__PURE__*/_jsxDEV(\"input\", {\n          className: \"form-control form-control-lg\",\n          type: \"text\",\n          gi: true,\n          value: search,\n          onChange: e => setSearch(e.target.value)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 34,\n          columnNumber: 17\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 33,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"col\",\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"btn btn-lg btn-success\",\n          type: \"submit\",\n          children: \"Search\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 42,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"btn btn-lg btn-link\",\n          type: \"button\",\n          onClick: () => {\n            dispatch(reset());\n            setSearch('');\n          },\n          children: \"Reset\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 43,\n          columnNumber: 17\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 41,\n        columnNumber: 13\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 32,\n      columnNumber: 5\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"mt-3\",\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        children: [\"Recipe List\", ' ', /*#__PURE__*/_jsxDEV(\"small\", {\n          className: \"text-body-secondary\",\n          children: searchCriteria\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 58,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 56,\n        columnNumber: 7\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"row mt-3\",\n        children: filteredRecipes().map(recipe => {\n          return /*#__PURE__*/_jsxDEV(Link, {\n            to: `/recipe/${recipe.id}`,\n            children: recipe.name\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 63,\n            columnNumber: 13\n          }, this);\n        })\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 7\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 5\n    }, this)]\n  }, void 0, true);\n}\n\n_s(SearchPage, \"qZvpjtuHo+j3PNyYqSdDXz479xQ=\", false, function () {\n  return [useSelector, useGetRecipesQuery, useDispatch];\n});\n\n_c = SearchPage;\nexport default SearchPage;\n\nvar _c;\n\n$RefreshReg$(_c, \"SearchPage\");","map":{"version":3,"names":["useState","useGetRecipesQuery","useDispatch","useSelector","reset","filter","Link","SearchPage","search","setSearch","searchCriteria","state","value","data","isLoading","dispatch","handleSubmit","e","preventDefault","console","log","filteredRecipes","recipe","name","toLowerCase","includes","target","map","id"],"sources":["/app/src/searchPage.js"],"sourcesContent":["import { useState } from \"react\";\nimport { useGetRecipesQuery } from \"./app/recipeSlice\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { reset, filter } from \"./app/searchSlice\";\nimport { Link } from \"react-router-dom\";\n\nfunction SearchPage() {\n  const[search, setSearch] = useState('');\n  const searchCriteria = useSelector((state) => state.search.value)\n  const { data, isLoading } = useGetRecipesQuery();\n  const dispatch = useDispatch();\n\n  const handleSubmit = (e) => {\n        e.preventDefault();\n        console.log('handleSubmit', search);\n        dispatch(filter(search));\n  }\n\n  const filteredRecipes = () => {\n        if (searchCriteria) {\n            return data.filter(recipe => recipe.name.toLowerCase().includes(searchCriteria))\n        } else {\n            return data;\n        }\n      }\n\n  if (isLoading) {\n    return <p>Loading...</p>;\n  }\n  return(\n    <>\n    <form className=\"row\" onSubmit={handleSubmit}>\n          <div className=\"col\">\n                <input\n                    className=\"form-control form-control-lg\"\n                    type=\"text\"gi\n                    value={search}\n                    onChange={(e) => setSearch(e.target.value)}\n                />\n            </div>\n            <div className=\"col\">\n                <button className=\"btn btn-lg btn-success\" type=\"submit\">Search</button>\n                <button\n                    className=\"btn btn-lg btn-link\"\n                    type=\"button\"\n                    onClick={() => {\n                        dispatch(reset())\n                        setSearch('');\n                    }}\n                >\n                    Reset\n                </button>\n          </div>\n      </form>\n    <div className='mt-3'>\n      <h1>\n          Recipe List{' '}\n          <small className='text-body-secondary'>{searchCriteria}</small>\n      </h1>\n      <div className=\"row mt-3\">\n          {filteredRecipes().map(recipe => {\n            return (\n            <Link to={`/recipe/${recipe.id}`}>{recipe.name}</Link>\n            )}\n          )}\n      </div>\n    </div>\n    </>\n  )\n}\n\nexport default SearchPage;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}