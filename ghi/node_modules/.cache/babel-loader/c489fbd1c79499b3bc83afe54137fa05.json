{"ast":null,"code":"\"use strict\";\n\nvar __createBinding = this && this.__createBinding || (Object.create ? function (o, m, k, k2) {\n  if (k2 === undefined) k2 = k;\n  var desc = Object.getOwnPropertyDescriptor(m, k);\n\n  if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\n    desc = {\n      enumerable: true,\n      get: function () {\n        return m[k];\n      }\n    };\n  }\n\n  Object.defineProperty(o, k2, desc);\n} : function (o, m, k, k2) {\n  if (k2 === undefined) k2 = k;\n  o[k2] = m[k];\n});\n\nvar __setModuleDefault = this && this.__setModuleDefault || (Object.create ? function (o, v) {\n  Object.defineProperty(o, \"default\", {\n    enumerable: true,\n    value: v\n  });\n} : function (o, v) {\n  o[\"default\"] = v;\n});\n\nvar __importStar = this && this.__importStar || function (mod) {\n  if (mod && mod.__esModule) return mod;\n  var result = {};\n  if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n\n  __setModuleDefault(result, mod);\n\n  return result;\n};\n\nvar __awaiter = this && this.__awaiter || function (thisArg, _arguments, P, generator) {\n  function adopt(value) {\n    return value instanceof P ? value : new P(function (resolve) {\n      resolve(value);\n    });\n  }\n\n  return new (P || (P = Promise))(function (resolve, reject) {\n    function fulfilled(value) {\n      try {\n        step(generator.next(value));\n      } catch (e) {\n        reject(e);\n      }\n    }\n\n    function rejected(value) {\n      try {\n        step(generator[\"throw\"](value));\n      } catch (e) {\n        reject(e);\n      }\n    }\n\n    function step(result) {\n      result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected);\n    }\n\n    step((generator = generator.apply(thisArg, _arguments || [])).next());\n  });\n};\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.useAuthContext = exports.AuthProvider = exports.AuthContext = exports.getToken = void 0;\n\nconst react_1 = __importStar(require(\"react\"));\n/**\n * Gets token from API using cookie as credential\n * @internal\n */\n\n\nconst getToken = baseUrl => __awaiter(void 0, void 0, void 0, function* () {\n  return fetch(`${baseUrl}/token`, {\n    credentials: \"include\"\n  }).then(response => response.json()).then(data => {\n    var _a;\n\n    return (_a = data === null || data === void 0 ? void 0 : data.access_token) !== null && _a !== void 0 ? _a : null;\n  }).catch(console.error);\n});\n\nexports.getToken = getToken;\n/**\n * Context Hook for authentication. Store token and other\n * data.\n * @public\n */\n\nexports.AuthContext = (0, react_1.createContext)({\n  token: null,\n  setToken: () => null,\n  baseUrl: \"\"\n});\n/**\n * React context provider that provides AuthContext to\n * application, which should be a child node of this component.\n * @param props - Children and optionally URL to retrieve API\n * token.\n * @public\n */\n\nconst AuthProvider = props => {\n  const [token, setToken] = (0, react_1.useState)(null);\n  const {\n    children,\n    baseUrl\n  } = props;\n  return react_1.default.createElement(exports.AuthContext.Provider, {\n    value: {\n      token,\n      setToken,\n      baseUrl\n    }\n  }, react_1.default.createElement(TokenNode, null), children);\n};\n\nexports.AuthProvider = AuthProvider;\n/**\n * Context Hook.\n * @public\n */\n\nconst useAuthContext = () => (0, react_1.useContext)(exports.AuthContext);\n\nexports.useAuthContext = useAuthContext;\n/**\n * Hook that provides token, register, login, logout,\n * fetchWithCookie, and fetchWithToken\n * @public\n */\n\nconst useToken = () => {\n  const {\n    token,\n    setToken,\n    baseUrl\n  } = (0, exports.useAuthContext)();\n  (0, react_1.useEffect)(() => {\n    const fetchToken = () => __awaiter(void 0, void 0, void 0, function* () {\n      const token = yield (0, exports.getToken)(baseUrl);\n      setToken(token);\n    });\n\n    if (!token) {\n      fetchToken();\n    }\n  }, [setToken]);\n  /**\n   * Logs out and deletes token state, then deletes token and\n   * navigates to '/'.\n   */\n\n  const logout = () => __awaiter(void 0, void 0, void 0, function* () {\n    if (token) {\n      const url = `${baseUrl}/token`;\n      fetch(url, {\n        method: \"delete\",\n        credentials: \"include\"\n      }).then(() => {\n        setToken(null); // Delete old token\n\n        document.cookie = \"fastapi_token=; expires=Thu, 01 Jan 1970 00:00:00 UTC; path=/;\";\n      }).catch(console.error);\n    }\n  });\n  /**\n   * Login to set API token.\n   * @param username - Username of existing account\n   * @param password - Password of existing account\n   */\n\n\n  const login = (username, password) => __awaiter(void 0, void 0, void 0, function* () {\n    const url = `${baseUrl}/token`;\n    const form = new FormData();\n    form.append(\"username\", username);\n    form.append(\"password\", password);\n    fetch(url, {\n      method: \"post\",\n      credentials: \"include\",\n      body: form\n    }).then(() => (0, exports.getToken)(baseUrl)).then(token => {\n      if (token) {\n        setToken(token);\n      } else {\n        throw new Error(`Failed to get token after login. Got ${token}`);\n      }\n    }).catch(console.error);\n  });\n  /**\n   * Register user account with API service. Logs in after\n   * registration.\n   * @param userData - Account data to be created or updated.\n   * @param url - API endpoint to update or create account.\n   * @param method - Method to use in request.\n   */\n\n\n  const register = function (userData, url) {\n    let method = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : \"POST\";\n    return __awaiter(void 0, void 0, void 0, function* () {\n      fetch(url, {\n        method: method,\n        body: JSON.stringify(userData),\n        headers: {\n          \"Content-Type\": \"application/json\"\n        }\n      }).then(() => login(userData.username, userData.password)).catch(console.error);\n    });\n  };\n  /**\n   * Get data from service that provided login token. Use\n   * this with your account service.\n   * @param url - API endpoint to request\n   * @param method - Method to use in request.\n   * @param options - Additional options to use in fetch\n   * request. For more information, see\n   * https://developer.mozilla.org/en-US/docs/Web/API/Fetch_API/Using_Fetch#supplying_request_options\n   */\n\n\n  const fetchWithCookie = function (url) {\n    let method = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : \"GET\";\n    let options = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n    return __awaiter(void 0, void 0, void 0, function* () {\n      return fetch(url, Object.assign({\n        method: method,\n        credentials: \"include\"\n      }, options)).then(resp => resp.json()).catch(console.error);\n    });\n  };\n  /**\n   * Get data from service that provided login token. Use\n   * this with APIs other than the account service.\n   * @param url - API endpoint to request\n   * @param method - Method to use in request.\n   * @param options - Additional options to use in fetch\n   * request. For more information, see\n   * https://developer.mozilla.org/en-US/docs/Web/API/Fetch_API/Using_Fetch#supplying_request_options\n   */\n\n\n  const fetchWithToken = function (url) {\n    let method = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : \"GET\";\n    let otherHeaders = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n    let options = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : {};\n    return __awaiter(void 0, void 0, void 0, function* () {\n      return fetch(url, Object.assign({\n        method: method,\n        headers: Object.assign({\n          Authorization: `Bearer ${token}`\n        }, otherHeaders)\n      }, options)).then(resp => resp.json()).catch(console.error);\n    });\n  };\n\n  return {\n    token,\n    register,\n    login,\n    logout,\n    fetchWithCookie,\n    fetchWithToken\n  };\n};\n\nexports.default = useToken;\n\nconst TokenNode = () => {\n  useToken();\n  return null;\n};","map":{"version":3,"names":["__createBinding","Object","create","o","m","k","k2","undefined","desc","getOwnPropertyDescriptor","__esModule","writable","configurable","enumerable","get","defineProperty","__setModuleDefault","v","value","__importStar","mod","result","prototype","hasOwnProperty","call","__awaiter","thisArg","_arguments","P","generator","adopt","resolve","Promise","reject","fulfilled","step","next","e","rejected","done","then","apply","exports","useAuthContext","AuthProvider","AuthContext","getToken","react_1","require","baseUrl","fetch","credentials","response","json","data","_a","access_token","catch","console","error","createContext","token","setToken","props","useState","children","default","createElement","Provider","TokenNode","useContext","useToken","useEffect","fetchToken","logout","url","method","document","cookie","login","username","password","form","FormData","append","body","Error","register","userData","JSON","stringify","headers","fetchWithCookie","options","assign","resp","fetchWithToken","otherHeaders","Authorization"],"sources":["/app/node_modules/@galvanize-inc/jwtdown-for-react/dist/index.js"],"sourcesContent":["\"use strict\";\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    var desc = Object.getOwnPropertyDescriptor(m, k);\n    if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\n      desc = { enumerable: true, get: function() { return m[k]; } };\n    }\n    Object.defineProperty(o, k2, desc);\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\n}) : function(o, v) {\n    o[\"default\"] = v;\n});\nvar __importStar = (this && this.__importStar) || function (mod) {\n    if (mod && mod.__esModule) return mod;\n    var result = {};\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n    __setModuleDefault(result, mod);\n    return result;\n};\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.useAuthContext = exports.AuthProvider = exports.AuthContext = exports.getToken = void 0;\nconst react_1 = __importStar(require(\"react\"));\n/**\n * Gets token from API using cookie as credential\n * @internal\n */\nconst getToken = (baseUrl) => __awaiter(void 0, void 0, void 0, function* () {\n    return fetch(`${baseUrl}/token`, {\n        credentials: \"include\",\n    })\n        .then((response) => response.json())\n        .then((data) => { var _a; return (_a = data === null || data === void 0 ? void 0 : data.access_token) !== null && _a !== void 0 ? _a : null; })\n        .catch(console.error);\n});\nexports.getToken = getToken;\n/**\n * Context Hook for authentication. Store token and other\n * data.\n * @public\n */\nexports.AuthContext = (0, react_1.createContext)({\n    token: null,\n    setToken: () => null,\n    baseUrl: \"\",\n});\n/**\n * React context provider that provides AuthContext to\n * application, which should be a child node of this component.\n * @param props - Children and optionally URL to retrieve API\n * token.\n * @public\n */\nconst AuthProvider = (props) => {\n    const [token, setToken] = (0, react_1.useState)(null);\n    const { children, baseUrl } = props;\n    return (react_1.default.createElement(exports.AuthContext.Provider, { value: { token, setToken, baseUrl } },\n        react_1.default.createElement(TokenNode, null),\n        children));\n};\nexports.AuthProvider = AuthProvider;\n/**\n * Context Hook.\n * @public\n */\nconst useAuthContext = () => (0, react_1.useContext)(exports.AuthContext);\nexports.useAuthContext = useAuthContext;\n/**\n * Hook that provides token, register, login, logout,\n * fetchWithCookie, and fetchWithToken\n * @public\n */\nconst useToken = () => {\n    const { token, setToken, baseUrl } = (0, exports.useAuthContext)();\n    (0, react_1.useEffect)(() => {\n        const fetchToken = () => __awaiter(void 0, void 0, void 0, function* () {\n            const token = yield (0, exports.getToken)(baseUrl);\n            setToken(token);\n        });\n        if (!token) {\n            fetchToken();\n        }\n    }, [setToken]);\n    /**\n     * Logs out and deletes token state, then deletes token and\n     * navigates to '/'.\n     */\n    const logout = () => __awaiter(void 0, void 0, void 0, function* () {\n        if (token) {\n            const url = `${baseUrl}/token`;\n            fetch(url, { method: \"delete\", credentials: \"include\" })\n                .then(() => {\n                setToken(null);\n                // Delete old token\n                document.cookie =\n                    \"fastapi_token=; expires=Thu, 01 Jan 1970 00:00:00 UTC; path=/;\";\n            })\n                .catch(console.error);\n        }\n    });\n    /**\n     * Login to set API token.\n     * @param username - Username of existing account\n     * @param password - Password of existing account\n     */\n    const login = (username, password) => __awaiter(void 0, void 0, void 0, function* () {\n        const url = `${baseUrl}/token`;\n        const form = new FormData();\n        form.append(\"username\", username);\n        form.append(\"password\", password);\n        fetch(url, {\n            method: \"post\",\n            credentials: \"include\",\n            body: form,\n        })\n            .then(() => (0, exports.getToken)(baseUrl))\n            .then((token) => {\n            if (token) {\n                setToken(token);\n            }\n            else {\n                throw new Error(`Failed to get token after login. Got ${token}`);\n            }\n        })\n            .catch(console.error);\n    });\n    /**\n     * Register user account with API service. Logs in after\n     * registration.\n     * @param userData - Account data to be created or updated.\n     * @param url - API endpoint to update or create account.\n     * @param method - Method to use in request.\n     */\n    const register = (userData, url, method = \"POST\") => __awaiter(void 0, void 0, void 0, function* () {\n        fetch(url, {\n            method: method,\n            body: JSON.stringify(userData),\n            headers: {\n                \"Content-Type\": \"application/json\",\n            },\n        })\n            .then(() => login(userData.username, userData.password))\n            .catch(console.error);\n    });\n    /**\n     * Get data from service that provided login token. Use\n     * this with your account service.\n     * @param url - API endpoint to request\n     * @param method - Method to use in request.\n     * @param options - Additional options to use in fetch\n     * request. For more information, see\n     * https://developer.mozilla.org/en-US/docs/Web/API/Fetch_API/Using_Fetch#supplying_request_options\n     */\n    const fetchWithCookie = (url, method = \"GET\", options = {}) => __awaiter(void 0, void 0, void 0, function* () {\n        return fetch(url, Object.assign({ method: method, credentials: \"include\" }, options))\n            .then((resp) => resp.json())\n            .catch(console.error);\n    });\n    /**\n     * Get data from service that provided login token. Use\n     * this with APIs other than the account service.\n     * @param url - API endpoint to request\n     * @param method - Method to use in request.\n     * @param options - Additional options to use in fetch\n     * request. For more information, see\n     * https://developer.mozilla.org/en-US/docs/Web/API/Fetch_API/Using_Fetch#supplying_request_options\n     */\n    const fetchWithToken = (url, method = \"GET\", otherHeaders = {}, options = {}) => __awaiter(void 0, void 0, void 0, function* () {\n        return fetch(url, Object.assign({ method: method, headers: Object.assign({ Authorization: `Bearer ${token}` }, otherHeaders) }, options))\n            .then((resp) => resp.json())\n            .catch(console.error);\n    });\n    return { token, register, login, logout, fetchWithCookie, fetchWithToken };\n};\nexports.default = useToken;\nconst TokenNode = () => {\n    useToken();\n    return null;\n};\n"],"mappings":"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"},"metadata":{},"sourceType":"script"}