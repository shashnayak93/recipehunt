{"ast":null,"code":"import { createApi, fetchBaseQuery } from '@reduxjs/toolkit/query/react';\nexport const recipeHuntApi = createApi({\n  reducerPath: 'recipeHuntApi',\n  baseQuery: fetchBaseQuery({\n    baseUrl: process.env.REACT_APP_API_HOST\n  }),\n  tagTypes: [\"Account\", \"Favorites\", \"Ingredient\", \"Recipes\", \"Ratings\"],\n  endpoints: builder => ({\n    getAccount: builder.query({\n      query: () => ({\n        url: `/token`,\n        credentials: 'include'\n      }),\n      transformResponse: response => response ? response.account : null,\n      providesTags: ['Account']\n    }),\n    logout: builder.mutation({\n      query: () => ({\n        url: '/token',\n        method: 'DELETE',\n        credentials: 'include'\n      }),\n      invalidatesTags: [{\n        type: \"Account\"\n      }, {\n        type: \"Favorites\",\n        id: \"mine\"\n      }, {\n        type: \"Ingredient\",\n        id: \"mine\"\n      }]\n    }),\n    signup: builder.mutation({\n      query: body => ({\n        url: `/api/accounts`,\n        method: 'POST',\n        body,\n        credentials: 'include',\n        headers: {\n          'Content-Type': 'application/json'\n        }\n      }),\n      invalidatesTags: ['Account', \"Favorites\", \"Ingredient\"]\n    }),\n    login: builder.mutation({\n      query: _ref => {\n        let {\n          username,\n          password\n        } = _ref;\n        const body = new FormData();\n        body.append('username', username);\n        body.append('password', password);\n        return {\n          url: `/token`,\n          method: 'POST',\n          body,\n          credentials: 'include'\n        };\n      },\n      invalidatesTags: ['Account', \"Favorites\", \"Ingredient\"]\n    }),\n    getIngredientByAccount: builder.query({\n      query: () => ({\n        url: `/api/ingredients/mine`,\n        credentials: \"include\"\n      }),\n      providesTags: [\"Ingredient\"],\n      transformResponse: response => response.ingredients\n    }),\n    createIngredient: builder.mutation({\n      query: body => ({\n        url: `/api/ingredients`,\n        method: \"POST\",\n        body,\n        credentials: \"include\",\n        headers: {\n          \"Content-Type\": \"application/json\"\n        }\n      }),\n      invalidatesTags: [\"Ingredient\", \"Account\"]\n    }),\n    deleteIngredient: builder.mutation({\n      query: ingredient_id => ({\n        url: `/api/ingredients/${ingredient_id}`,\n        method: \"DELETE\",\n        credentials: \"include\"\n      }),\n      invalidatesTags: [\"Ingredient\", \"Account\"]\n    }),\n    updateIngredient: builder.mutation({\n      query: _ref2 => {\n        let {\n          body: body,\n          ingredient_id: ingredient_id\n        } = _ref2;\n        return {\n          url: `/api/ingredients/${ingredient_id}`,\n          body,\n          method: \"PUT\",\n          credentials: \"include\"\n        };\n      },\n      transformResponse: response => response.ingredients,\n      invalidatesTags: [\"Ingredient\", \"Account\"]\n    }),\n    getRecipeById: builder.query({\n      query: recipeId => ({\n        url: `/api/tasty-recipes/${recipeId}`,\n        credentials: \"include\"\n      })\n    }),\n    getRecipes: builder.query({\n      query: () => ({\n        url: \"/api/tasty-recipes\",\n        credentials: \"include\"\n      }),\n      providesTags: [\"Recipes\"],\n      transformResponse: response => response.recipes\n    }),\n    getFavorites: builder.query({\n      query: () => ({\n        url: \"/api/favorites/mine\",\n        credentials: \"include\"\n      }),\n      transformResponse: response => response.favorites,\n      providesTags: [\"Favorites\"]\n    }),\n    favorites: builder.mutation({\n      query: body => ({\n        url: `/api/favorites`,\n        method: \"POST\",\n        body,\n        credentials: \"include\",\n        headers: {\n          \"Content-Type\": \"application/json\"\n        }\n      }),\n      invalidatesTags: [\"Favorites\", \"Account\"]\n    }),\n    deleteFavorites: builder.mutation({\n      query: favorite_id => ({\n        url: `/api/favorites/${favorite_id}`,\n        method: \"DELETE\",\n        credentials: \"include\"\n      }),\n      invalidatesTags: [\"Favorites\", \"Account\"]\n    }),\n    getAllRatings: builder.query({\n      query: recipe_id => ({\n        url: `/api/recipes/${recipe_id}/ratings`,\n        credentials: \"include\"\n      }),\n      transformResponse: response => response.ratings,\n      providesTags: [\"Ratings\"]\n    }),\n    ratings: builder.mutation({\n      query: _ref3 => {\n        let {\n          body: body,\n          recipe_id: recipe_id\n        } = _ref3;\n        return {\n          url: `/api/recipes/${recipe_id}/ratings`,\n          method: \"POST\",\n          body,\n          credentials: \"include\",\n          headers: {\n            \"Content-Type\": \"application/json\"\n          }\n        };\n      },\n      invalidatesTags: [\"Ratings\"]\n    })\n  })\n});\nexport const {\n  useGetAccountQuery,\n  useLogoutMutation,\n  useLoginMutation,\n  useSignupMutation,\n  useGetIngredientByAccountQuery,\n  useCreateIngredientMutation,\n  useDeleteIngredientMutation,\n  useUpdateIngredientMutation,\n  useGetRecipeByIdQuery,\n  useGetRecipesQuery,\n  useGetFavoritesQuery,\n  useFavoritesMutation,\n  useDeleteFavoritesMutation,\n  useRatingsMutation,\n  useGetAllRatingsQuery\n} = recipeHuntApi;","map":{"version":3,"names":["createApi","fetchBaseQuery","recipeHuntApi","reducerPath","baseQuery","baseUrl","process","env","REACT_APP_API_HOST","tagTypes","endpoints","builder","getAccount","query","url","credentials","transformResponse","response","account","providesTags","logout","mutation","method","invalidatesTags","type","id","signup","body","headers","login","username","password","FormData","append","getIngredientByAccount","ingredients","createIngredient","deleteIngredient","ingredient_id","updateIngredient","getRecipeById","recipeId","getRecipes","recipes","getFavorites","favorites","deleteFavorites","favorite_id","getAllRatings","recipe_id","ratings","useGetAccountQuery","useLogoutMutation","useLoginMutation","useSignupMutation","useGetIngredientByAccountQuery","useCreateIngredientMutation","useDeleteIngredientMutation","useUpdateIngredientMutation","useGetRecipeByIdQuery","useGetRecipesQuery","useGetFavoritesQuery","useFavoritesMutation","useDeleteFavoritesMutation","useRatingsMutation","useGetAllRatingsQuery"],"sources":["/app/src/app/apiSlice.js"],"sourcesContent":["import { createApi, fetchBaseQuery } from '@reduxjs/toolkit/query/react'\n\nexport const recipeHuntApi = createApi({\n    reducerPath: 'recipeHuntApi',\n    baseQuery: fetchBaseQuery({\n        baseUrl: process.env.REACT_APP_API_HOST\n    }),\n    tagTypes: [\"Account\", \"Favorites\", \"Ingredient\", \"Recipes\", \"Ratings\"],\n    endpoints: (builder) => ({\n        getAccount: builder.query({\n            query: () => ({\n                url: `/token`,\n                credentials: 'include',\n            }),\n            transformResponse: (response) => response ? response.account : null,\n            providesTags: ['Account']\n        }),\n        logout: builder.mutation({\n            query: () => ({\n                url: '/token',\n                method: 'DELETE',\n                credentials: 'include'\n            }),\n            invalidatesTags: [\n                { type: \"Account\" },\n                { type: \"Favorites\", id: \"mine\" },\n                { type: \"Ingredient\", id: \"mine\" }\n            ]\n        }),\n        signup: builder.mutation({\n            query: (body) => ({\n                url: `/api/accounts`,\n                method: 'POST',\n                body,\n                credentials: 'include',\n                headers: {\n                    'Content-Type': 'application/json',\n                },\n            }),\n            invalidatesTags: ['Account', \"Favorites\", \"Ingredient\"]\n        }),\n        login: builder.mutation({\n            query: ({ username, password }) => {\n                const body = new FormData();\n                body.append('username', username);\n                body.append('password', password);\n                return {\n                    url: `/token`,\n                    method: 'POST',\n                    body,\n                    credentials: 'include'\n                }\n            },\n            invalidatesTags: ['Account', \"Favorites\", \"Ingredient\"]\n        }),\n        getIngredientByAccount: builder.query({\n            query: () => ({\n                url: `/api/ingredients/mine`,\n                credentials: \"include\",\n            }),\n            providesTags: [\"Ingredient\"],\n            transformResponse: (response) => response.ingredients,\n        }),\n        createIngredient: builder.mutation({\n            query: (body) => ({\n                url: `/api/ingredients`,\n                method: \"POST\",\n                body,\n                credentials: \"include\",\n                headers: {\n                    \"Content-Type\": \"application/json\",\n                },\n            }),\n            invalidatesTags: [\"Ingredient\", \"Account\"],\n        }),\n        deleteIngredient: builder.mutation({\n            query: (ingredient_id) => ({\n                url: `/api/ingredients/${ingredient_id}`,\n                method: \"DELETE\",\n                credentials: \"include\",\n            }),\n            invalidatesTags: [\"Ingredient\", \"Account\"],\n        }),\n        updateIngredient: builder.mutation({\n            query: ({ body: body, ingredient_id: ingredient_id }) => ({\n                url: `/api/ingredients/${ingredient_id}`,\n                body,\n                method: \"PUT\",\n                credentials: \"include\",\n            }),\n            transformResponse: (response) => response.ingredients,\n            invalidatesTags: [\"Ingredient\", \"Account\"],\n        }),\n        getRecipeById: builder.query({\n            query: (recipeId) => ({\n                url: `/api/tasty-recipes/${recipeId}`,\n                credentials: \"include\",\n            }),\n        }),\n        getRecipes: builder.query({\n            query: () => ({\n                url: \"/api/tasty-recipes\",\n                credentials: \"include\",\n            }),\n            providesTags: [\"Recipes\"],\n            transformResponse: (response) => response.recipes,\n        }),\n        getFavorites: builder.query({\n            query: () => ({\n                url: \"/api/favorites/mine\",\n                credentials: \"include\",\n            }),\n            transformResponse: (response) => response.favorites,\n            providesTags: [\"Favorites\"],\n        }),\n        favorites: builder.mutation({\n            query: (body) => ({\n                url: `/api/favorites`,\n                method: \"POST\",\n                body,\n                credentials: \"include\",\n                headers: {\n                    \"Content-Type\": \"application/json\",\n                },\n            }),\n            invalidatesTags: [\"Favorites\", \"Account\"],\n        }),\n        deleteFavorites: builder.mutation({\n            query: (favorite_id) => ({\n                url: `/api/favorites/${favorite_id}`,\n                method: \"DELETE\",\n                credentials: \"include\",\n            }),\n            invalidatesTags: [\"Favorites\", \"Account\"],\n        }),\n        getAllRatings: builder.query({\n            query: (recipe_id) => ({\n                url: `/api/recipes/${recipe_id}/ratings`,\n                credentials: \"include\",\n            }),\n            transformResponse: (response) => response.ratings,\n            providesTags: [\"Ratings\"],\n        }),\n        ratings: builder.mutation({\n            query: ({ body: body, recipe_id: recipe_id }) => ({\n                url: `/api/recipes/${recipe_id}/ratings`,\n                method: \"POST\",\n                body,\n                credentials: \"include\",\n                headers: {\n                    \"Content-Type\": \"application/json\",\n                },\n            }),\n            invalidatesTags: [\"Ratings\"],\n        }),\n    })\n})\n\nexport const {\n    useGetAccountQuery,\n    useLogoutMutation,\n    useLoginMutation,\n    useSignupMutation,\n    useGetIngredientByAccountQuery,\n    useCreateIngredientMutation,\n    useDeleteIngredientMutation,\n    useUpdateIngredientMutation,\n    useGetRecipeByIdQuery,\n    useGetRecipesQuery,\n    useGetFavoritesQuery,\n    useFavoritesMutation,\n    useDeleteFavoritesMutation,\n    useRatingsMutation,\n    useGetAllRatingsQuery,\n} = recipeHuntApi;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}