{"ast":null,"code":"var _jsxFileName = \"/app/src/FavoritesButton.js\",\n    _s = $RefreshSig$();\n\nimport { useGetFavoritesQuery } from \"./app/recipeSlice\";\nimport { useEffect, useState } from \"react\";\nimport { useFavoritesMutation } from \"./app/recipeSlice\";\nimport { useDeleteFavoritesMutation } from \"./app/recipeSlice\";\nimport { useParams } from \"react-router-dom\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nconst FavoritesButton = () => {\n  _s();\n\n  const [favorite, setFavorite] = useState(null);\n  const {\n    data: favorites\n  } = useGetFavoritesQuery();\n  const [addFavorite] = useFavoritesMutation();\n  const [deleteFavorite] = useDeleteFavoritesMutation();\n  const {\n    recipeId\n  } = useParams();\n  useEffect(() => {\n    if (favorites) {\n      setFavorite(favorites.find(favorite => favorite.recipe_id === +recipeId) || null);\n    }\n  }, [favorites]);\n  console.log(favorite);\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [!favorite && /*#__PURE__*/_jsxDEV(\"button\", {\n      className: \"btn btn-success\",\n      onClick: () => addFavorite({\n        recipe_id: recipeId\n      }),\n      children: \"Add to Favorites\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 22,\n      columnNumber: 28\n    }, this), favorite && /*#__PURE__*/_jsxDEV(\"button\", {\n      className: \"btn btn-danger\",\n      onClick: () => deleteFavorite(favorite.id),\n      children: \"Remove from Favorites\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 32,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true);\n};\n\n_s(FavoritesButton, \"IO5V6U4XAyyIe8WMBq69mqz1EOo=\", false, function () {\n  return [useGetFavoritesQuery, useFavoritesMutation, useDeleteFavoritesMutation, useParams];\n});\n\n_c = FavoritesButton;\nexport default FavoritesButton;\n\nvar _c;\n\n$RefreshReg$(_c, \"FavoritesButton\");","map":{"version":3,"names":["useGetFavoritesQuery","useEffect","useState","useFavoritesMutation","useDeleteFavoritesMutation","useParams","FavoritesButton","favorite","setFavorite","data","favorites","addFavorite","deleteFavorite","recipeId","find","recipe_id","console","log","id"],"sources":["/app/src/FavoritesButton.js"],"sourcesContent":["import { useGetFavoritesQuery } from \"./app/recipeSlice\";\nimport { useEffect, useState } from \"react\";\nimport { useFavoritesMutation } from \"./app/recipeSlice\";\nimport { useDeleteFavoritesMutation } from \"./app/recipeSlice\";\nimport { useParams } from \"react-router-dom\";\n\nconst FavoritesButton = () => {\n    const [favorite, setFavorite] = useState(null);\n    const { data: favorites } = useGetFavoritesQuery();\n    const [addFavorite] = useFavoritesMutation();\n    const [deleteFavorite] = useDeleteFavoritesMutation();\n    const { recipeId } = useParams();\n\n    useEffect(() => {\n        if (favorites) {\n            setFavorite(favorites.find((favorite) => favorite.recipe_id === +recipeId) || null);\n        }\n    }, [favorites]);\n    console.log(favorite);\n    return (\n        <>\n            {!favorite && (<button className=\"btn btn-success\"\n            onClick={() =>\n                addFavorite({\n                    recipe_id: recipeId\n            })\n                }\n            >\n                Add to Favorites\n            </button>)}\n            {favorite && (\n            <button\n            className=\"btn btn-danger\"\n            onClick={() =>\n                deleteFavorite(favorite.id)\n            }\n            >Remove from Favorites\n            </button>)}\n        </>\n    );\n};\n\nexport default FavoritesButton;\n"],"mappings":";;;AAAA,SAASA,oBAAT,QAAqC,mBAArC;AACA,SAASC,SAAT,EAAoBC,QAApB,QAAoC,OAApC;AACA,SAASC,oBAAT,QAAqC,mBAArC;AACA,SAASC,0BAAT,QAA2C,mBAA3C;AACA,SAASC,SAAT,QAA0B,kBAA1B;;;;AAEA,MAAMC,eAAe,GAAG,MAAM;EAAA;;EAC1B,MAAM,CAACC,QAAD,EAAWC,WAAX,IAA0BN,QAAQ,CAAC,IAAD,CAAxC;EACA,MAAM;IAAEO,IAAI,EAAEC;EAAR,IAAsBV,oBAAoB,EAAhD;EACA,MAAM,CAACW,WAAD,IAAgBR,oBAAoB,EAA1C;EACA,MAAM,CAACS,cAAD,IAAmBR,0BAA0B,EAAnD;EACA,MAAM;IAAES;EAAF,IAAeR,SAAS,EAA9B;EAEAJ,SAAS,CAAC,MAAM;IACZ,IAAIS,SAAJ,EAAe;MACXF,WAAW,CAACE,SAAS,CAACI,IAAV,CAAgBP,QAAD,IAAcA,QAAQ,CAACQ,SAAT,KAAuB,CAACF,QAArD,KAAkE,IAAnE,CAAX;IACH;EACJ,CAJQ,EAIN,CAACH,SAAD,CAJM,CAAT;EAKAM,OAAO,CAACC,GAAR,CAAYV,QAAZ;EACA,oBACI;IAAA,WACK,CAACA,QAAD,iBAAc;MAAQ,SAAS,EAAC,iBAAlB;MACf,OAAO,EAAE,MACLI,WAAW,CAAC;QACRI,SAAS,EAAEF;MADH,CAAD,CAFA;MAAA;IAAA;MAAA;MAAA;MAAA;IAAA,QADnB,EAUKN,QAAQ,iBACT;MACA,SAAS,EAAC,gBADV;MAEA,OAAO,EAAE,MACLK,cAAc,CAACL,QAAQ,CAACW,EAAV,CAHlB;MAAA;IAAA;MAAA;MAAA;MAAA;IAAA,QAXJ;EAAA,gBADJ;AAqBH,CAlCD;;GAAMZ,e;UAE0BN,oB,EACNG,oB,EACGC,0B,EACJC,S;;;KALnBC,e;AAoCN,eAAeA,eAAf"},"metadata":{},"sourceType":"module"}